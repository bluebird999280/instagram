name: CI/CD
on: [push]
jobs : 
  backend-deploy:
    runs-on: ubuntu-latest
    steps:
      - name : Checkout-source code
        uses : actions/checkout@v4
      - name : install package
        run : npm install
      - name : build project
        run : npm run build
      - name : build docker image
        run : docker build -t bluebird999280/backend .
      - name : Login docker hub
        uses : docker/login-action@v2
        with :
          username : ${{ secrets.DOCKERHUB_USERNAME }} 
          password : ${{ secrets.DOCKERHUB_TOKEN  }} 
      - name : Publish to docker hub
        run : docker push bluebird999280/backend:v2.5